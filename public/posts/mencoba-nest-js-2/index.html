<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Mencoba Nest Js (2) | Today I Learn - Farish</title>
<meta name="keywords" content="">
<meta name="description" content="Introduction
Memasuki hari kedua belajar nestjs, sebelum itu selamat tahun baru 2026, semoga di tahun ini lebih sering produktif dan ada peningkatan dari tahun sebelumnya. Kembali ke topik utama, disini saya akan melakukan recap untuk materi controller, http method, http request, http response, asynchronous, cookie, dan view pada materi nest js dasar dari programmer zaman now.
Controller
Sama seperti laravel, nest js merupakan framework yang menerapkan MVC yang dimana controller disini bertugas untuk memproses HTTP request maupun response. Dalam nest js untuk membuat controller kita bisa dengan mudah menggunakan CLI nest generate controller nama_controller path. controller dalam node js dapat dikenali dengan adanya decorater @Controller() yang pada parameter decorator tersebut kita dapat melakukan konfigurasi prefix path untuk controller.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/mencoba-nest-js-2/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fd5566c526ae48aadabd950798a2dc3568536401560eae5caac3765a42a9e7b5.css" integrity="sha256-/VVmxSauSKravZUHmKLcNWhTZAFWDq5cqsN2WkKp57U=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/mencoba-nest-js-2/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Today I Learn - Farish (Alt + H)">Today I Learn - Farish</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Mencoba Nest Js (2)
    </h1>
    <div class="post-meta"><span title='2026-01-01 11:48:17 +0800 +08'>January 1, 2026</span>

</div>
  </header> 
  <div class="post-content"><h2 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">#</a></h2>
<p>Memasuki hari kedua belajar nestjs, sebelum itu selamat tahun baru 2026, semoga di tahun ini lebih sering produktif dan ada peningkatan dari tahun sebelumnya. Kembali ke topik utama, disini saya akan melakukan recap untuk materi controller, http method, http request, http response, asynchronous, cookie, dan view pada materi nest js dasar dari programmer zaman now.</p>
<h2 id="controller">Controller<a hidden class="anchor" aria-hidden="true" href="#controller">#</a></h2>
<p>Sama seperti laravel, nest js merupakan framework yang menerapkan MVC yang dimana controller disini bertugas untuk memproses HTTP request maupun response. Dalam nest js untuk membuat controller kita bisa dengan mudah menggunakan CLI nest generate controller nama_controller path. controller dalam node js dapat dikenali dengan adanya decorater @Controller() yang pada parameter decorator tersebut kita dapat melakukan konfigurasi prefix path untuk controller.</p>
<pre tabindex="0"><code>@Controller(&#39;/api/users&#39;)
export class UserController {
}
</code></pre><h2 id="http-method">HTTP Method<a hidden class="anchor" aria-hidden="true" href="#http-method">#</a></h2>
<p>Semua tentang decorator. Mungkin itu yang saya rasakan ketika menggunakan nest js pertama kali karena semua hal yang ada disini sudah diurus oleh decorator. Kalau pada laravel jika ingin membuat routing bisa lewat web.php atau api.php, pada nest didalam controller lah kita melakukan routing, menggunakan decorator dari HTTP method yang ada.</p>
<ol>
<li>Get() untuk method get.</li>
<li>Post() untuk method post.</li>
<li>@Put() untuk method put.</li>
<li>@Delete() untuk method delete.</li>
<li>@Patch() untuk method patch.</li>
<li>@Head() untuk method head.</li>
<li>@Option() untuk method option.</li>
<li>@All() untuk semua HTTP Method.</li>
</ol>
<p>Dalam decorator juga kita bisa menambahkan path parameter untuk menentukan route nya, jika tidak diisi maka default nya akan &lsquo;/&rsquo; mengikuti route prefix</p>
<pre tabindex="0"><code>@Post()
post(): string {
  return &#39;POST&#39;;
}

@Get(&#39;/sample&#39;)
get(): string {
  return &#39;GET&#39;;
}
</code></pre><h2 id="http-request">HTTP Request<a hidden class="anchor" aria-hidden="true" href="#http-request">#</a></h2>
<p>Mau mengambil query? gunakan decorator @Query(), mau mengambil data dari parameter? gunakan @Param(), request? gunakan Request(), body? gunakan Body(). Itu semua sudah diurus oleh decorator dan kita bisa dengan mudah mengakses nya saja.</p>
<pre tabindex="0"><code>@Get(&#39;/hello&#39;)
sayHello(@Query(&#39;name&#39;) name: string): string {
  return `Hello ${name}`;
}

@Get(&#39;/:id&#39;)
getById(@Param(&#39;id&#39;) id: string): string {
  return `GET ${id}`;
}

@Get(&#39;get-cookie&#39;)
getCookie(@Req() request: Request): string {
  return request.cookies[&#39;name&#39;] as string;
}
</code></pre><h2 id="http-response">HTTP Response<a hidden class="anchor" aria-hidden="true" href="#http-response">#</a></h2>
<p>Secara default return value yang kita set pada method yang ada didalam controller akan dijadikan response body untuk HTTP Resposne. Namun jika memerlukan express response juga bisa menggunakan decorator @Res() dan type nya Resposne dari express.</p>
<blockquote>
<p>Contoh menjadikan string sebagai HTTP Response</p>
</blockquote>
<pre tabindex="0"><code>@Get(&#39;/sample&#39;)
get(): string {
  return &#39;GET&#39;;
}
</code></pre><blockquote>
<p>Contoh menggunakan express response</p>
</blockquote>
<pre tabindex="0"><code>@Get(&#39;/set-cookie&#39;)
setCookie(@Query(&#39;name&#39;) name: string, @Res() response:Response) {
  response.cookie(&#39;name&#39;, name);
  response.status(200).send(&#39;Success set cookie&#39;);
}
</code></pre><h2 id="asynchronous">Asynchronous<a hidden class="anchor" aria-hidden="true" href="#asynchronous">#</a></h2>
<p>Cukup gunakan async method dengan return value Promise<!-- raw HTML omitted --> data</p>
<pre tabindex="0"><code>@Get(&#39;/async-hello&#39;)
async asyncSayHello(@Query(&#39;name&#39;) name: string): Promise&lt;string&gt; {
  return `Hello ${name}`;
}
</code></pre><h2 id="cookie">Cookie<a hidden class="anchor" aria-hidden="true" href="#cookie">#</a></h2>
<p>By default nestJS tidak memiliki support cookie secara bawaan. Oleh karena itu kita bisa menggunakan library tambahan seperti cookie-parser yang nantinya dapat kita tambahkan di file main.ts</p>
<blockquote>
<p>Menambah library cookie-parser</p>
</blockquote>
<pre tabindex="0"><code>bun add cookie-parser
bun add -d @types/cookie-parser
</code></pre><blockquote>
<p>Konfigurasi main.ts</p>
</blockquote>
<pre tabindex="0"><code>import * as cookieParser from &#39;cookie-parser&#39;;

async function bootstrap() {
  const app = await NestFactory.create&lt;NestExpressApplication&gt;(AppModule);
  app.use(cookieParser.default(&#39;SECRET&#39;));

  await app.listen(process.env.PORT ?? 3000);
}
</code></pre><p>Untuk mengakses cookie kita dapat menggunakan request dan response dari express js</p>
<blockquote>
<p>Contoh penggunaan cookie</p>
</blockquote>
<pre tabindex="0"><code>@Get(&#39;/set-cookie&#39;)
  setCookie(@Query(&#39;name&#39;) name: string, @Res() response: Response) {
    response.cookie(&#39;name&#39;, name);
    response.status(200).send(&#39;Success set cookie&#39;);
  }

@Get(&#39;get-cookie&#39;)
  getCookie(@Req() request: Request): string {
    return request.cookies[&#39;name&#39;] as string;
  }
</code></pre><h2 id="view">View<a hidden class="anchor" aria-hidden="true" href="#view">#</a></h2>
<p>Sama seperti cookie, nestJS by default juga tidak memiliki template engine bawaan, namun kita bisa menggunakan mustache sebagai template engine nya.</p>
<blockquote>
<p>Menambah library mustache</p>
</blockquote>
<pre tabindex="0"><code>bun add mustache-express
bun add -d @types/mustache-express
</code></pre><blockquote>
<p>Konfigurasi main.ts</p>
</blockquote>
<pre tabindex="0"><code>import * as mustache from &#39;mustache-express&#39;;
import { NestExpressApplication } from &#39;@nestjs/platform-express&#39;;

async function bootstrap() {
  const app = await NestFactory.create&lt;NestExpressApplication&gt;(AppModule);
  app.use(cookieParser.default(&#39;SECRET&#39;));

  app.set(&#39;views&#39;, __dirname + &#39;/../views&#39;);
  app.set(&#39;view engine&#39;, &#39;html&#39;);
  app.engine(&#39;html&#39;, mustache.default());
  await app.listen(process.env.PORT ?? 3000);
}
</code></pre><p>Seperti yang bisa diliat pada konfigurasi main.ts saat menambah library cookie dan mustache kita set NestFactory.create dengan type NestExpressApplication yang berarti project nest js yang dikerjakan saat ini adalah express application yang membuat variabel app memiliki method yang sama seperti membuat express.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="http://localhost:1313/">Today I Learn - Farish</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
